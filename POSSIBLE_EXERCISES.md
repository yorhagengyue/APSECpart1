# 🎯 可能的练习题目 - 应用安全课程

基于"添加手机号字段"这个练习的难度，老师可能会出以下类似的题目：

## 📝 基础字段扩展类

### 1. **添加用户头像URL字段**
- 难度：⭐
- 要求：在用户模型中添加 `avatar` 字段存储头像URL
- 学习点：理解如何扩展数据模型

### 2. **添加性别字段**
- 难度：⭐
- 要求：添加 `gender` 字段，只允许 'male', 'female', 'other' 三个值
- 学习点：枚举类型的使用

### 3. **添加出生日期字段**
- 难度：⭐⭐
- 要求：添加 `birthDate` 字段，并计算年龄
- 学习点：日期类型处理，虚拟属性

### 4. **添加地址信息**
- 难度：⭐⭐
- 要求：添加 `address` 对象，包含省、市、详细地址
- 学习点：嵌套对象的使用

## 🔐 认证功能扩展类

### 5. **实现"记住我"功能**
- 难度：⭐⭐
- 要求：登录时可选择记住登录状态，延长Token有效期
- 学习点：动态Token过期时间

### 6. **添加登录失败次数限制**
- 难度：⭐⭐⭐
- 要求：连续3次登录失败后锁定账户15分钟
- 学习点：安全防护，暴力破解防护

### 7. **实现邮箱验证功能**
- 难度：⭐⭐⭐
- 要求：注册后需要验证邮箱才能登录
- 学习点：邮件发送，Token验证

### 8. **添加最后登录时间记录**
- 难度：⭐
- 要求：记录用户最后登录时间和IP地址
- 学习点：请求信息获取，时间戳更新

## 🛡️ 授权功能扩展类

### 9. **实现用户状态管理**
- 难度：⭐⭐
- 要求：添加用户状态字段（active, inactive, banned）
- 学习点：用户生命周期管理

### 10. **添加权限细分**
- 难度：⭐⭐⭐
- 要求：为admin角色添加具体权限（如：canDeleteUser, canEditUser）
- 学习点：细粒度权限控制

### 11. **实现角色继承**
- 难度：⭐⭐⭐
- 要求：manager角色自动拥有analyst的所有权限
- 学习点：权限继承机制

## 📊 数据管理类

### 12. **实现用户搜索功能**
- 难度：⭐⭐
- 要求：在admin端点添加按姓名或邮箱搜索用户的功能
- 学习点：查询参数处理，模糊搜索

### 13. **添加分页功能**
- 难度：⭐⭐
- 要求：获取用户列表时支持分页（page, limit参数）
- 学习点：分页实现

### 14. **实现软删除**
- 难度：⭐⭐
- 要求：删除用户时不真正删除，而是标记为已删除
- 学习点：软删除模式

## 🔄 API功能扩展类

### 15. **实现修改密码功能**
- 难度：⭐⭐
- 要求：用户登录后可以修改密码，需要验证旧密码
- 学习点：密码更新流程

### 16. **添加用户资料更新**
- 难度：⭐⭐
- 要求：允许用户更新自己的基本信息（不包括邮箱和角色）
- 学习点：部分更新，权限验证

### 17. **实现密码重置功能**
- 难度：⭐⭐⭐
- 要求：通过邮箱发送重置链接
- 学习点：临时Token生成，邮件集成

## 🚨 安全增强类

### 18. **添加请求频率限制**
- 难度：⭐⭐⭐
- 要求：限制每个IP每分钟只能注册一次
- 学习点：Rate Limiting，DOS防护

### 19. **实现登录日志**
- 难度：⭐⭐
- 要求：记录所有登录尝试（成功/失败）
- 学习点：日志记录，审计功能

### 20. **添加密码强度验证**
- 难度：⭐⭐
- 要求：密码必须包含大小写字母、数字和特殊字符
- 学习点：正则表达式，密码策略

## 📈 统计分析类

### 21. **添加用户统计端点**
- 难度：⭐⭐
- 要求：统计各角色用户数量
- 学习点：聚合查询

### 22. **实现活跃用户统计**
- 难度：⭐⭐
- 要求：统计最近7天登录的用户数
- 学习点：日期范围查询

## 💡 为什么这些题目适合初学者？

1. **循序渐进**：从简单的字段添加到复杂的功能实现
2. **实用性强**：都是真实项目中常见的需求
3. **覆盖面广**：涉及CRUD、认证、授权、安全等多个方面
4. **易于验证**：每个功能都可以通过Postman测试

## 🎓 学习建议

对于每个练习题，建议按以下步骤进行：

1. **分析需求**：理解要实现什么功能
2. **设计方案**：思考需要修改哪些文件
3. **编写代码**：一步步实现功能
4. **测试验证**：用Postman测试功能是否正常
5. **优化改进**：思考有没有更好的实现方式

## 🔑 关键学习点

通过这些练习，你将掌握：

- ✅ **MVC架构**：理解Model-View-Controller的职责分工
- ✅ **RESTful API设计**：学习设计规范的API接口
- ✅ **数据验证**：掌握输入验证和数据清洗
- ✅ **认证授权**：理解JWT和基于角色的访问控制
- ✅ **安全最佳实践**：学习常见的安全防护措施
- ✅ **数据库操作**：熟悉MongoDB的CRUD操作
- ✅ **中间件使用**：理解Express中间件的工作原理

记住：**实践是最好的老师！** 多动手，多思考，遇到问题先尝试自己解决，实在不行再查资料或询问。

祝你学习顺利！ 🚀 